window.__require=function t(e,o,n){function c(i,s){if(!o[i]){if(!e[i]){var p=i.split("/");if(p=p[p.length-1],!e[p]){var a="function"==typeof __require&&__require;if(!s&&a)return a(p,!0);if(r)return r(p,!0);throw new Error("Cannot find module '"+i+"'")}i=p}var l=o[i]={exports:{}};e[i][0].call(l.exports,function(t){return c(e[i][1][t]||t)},l,l.exports,t,e,o,n)}return o[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<n.length;i++)c(n[i]);return c}({Back:[function(t,e,o){"use strict";cc._RF.push(e,"88cbfL0BRZJArldSM8y+6lJ","Back");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Main"),s=cc._decorator,p=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.onBackClick=function(){i.default.popScene()},r([p],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./Main":"Main"}],Leaderboard:[function(t,e,o){"use strict";cc._RF.push(e,"e5f68vX8LFDhKyTdUvh2fCs","Leaderboard");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Main"),s=t("./Score"),p=cc._decorator,a=p.ccclass,l=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scorePrefab=null,e}return c(e,t),e.prototype.start=function(){var t=this;JSON.parse(cc.sys.localStorage.getItem(i.SCORES)).forEach(function(e){var o=cc.instantiate(t.scorePrefab),n=o.getComponent(s.default);n.studentName=e[0],n.score=e[1],t.content.addChild(o)})},r([l(cc.Prefab)],e.prototype,"scorePrefab",void 0),r([l(cc.Node)],e.prototype,"content",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Main":"Main","./Score":"Score"}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","Main");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.TEACHER=o.SCORES=o.TODAYS_TASK=void 0;var i=cc._decorator,s=i.ccclass,p=i.property;o.TODAYS_TASK="todays_task",o.SCORES="scores",o.TEACHER="teacher";var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return c(e,t),n=e,e.prototype.start=function(){cc.debug.setDisplayStats(!1)},e.prototype.onTeacherClick=function(){n.currentUser=o.TEACHER,n.pushScene("Scene/teacher")},e.prototype.onStudentClick=function(){this.confirmPopup.active=!0},e.prototype.onYesClick=function(){n.currentUser=this.editBox.string,n.pushScene("Scene/student")},e.prototype.onCancelClick=function(){this.confirmPopup.active=!1},e.pushScene=function(t){this.scenes.push(t),cc.director.loadScene(t)},e.popScene=function(){this.scenes.pop(),cc.director.loadScene(this.scenes[this.scenes.length-1])},e.scenes=["Scene/main"],e.currentShape="Friend",e.currentUser=o.TEACHER,r([p(cc.Node)],e.prototype,"confirmPopup",void 0),r([p(cc.EditBox)],e.prototype,"editBox",void 0),n=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Puzzle:[function(t,e,o){"use strict";cc._RF.push(e,"9e6bb2kaCJKVZtvMfPFaHHt","Puzzle");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Tile"),s=t("./Main"),p=t("./Tasks"),a=cc._decorator,l=a.ccclass,u=a.property,h=[{color:"#FF00FF",pos:[500,250],points:[[-80,-160],[-80,160],[80,0]],angle:0},{color:"#0000FF",pos:[500,120],points:[[0,-80],[-160,80],[160,80]],angle:0},{color:"#FFA400",pos:[500,50],points:[[-120,-40],[-40,40],[120,40],[40,-40]],angle:0},{color:"#1600E0D0",pos:[500,-30],points:[[-80,-40],[0,40],[80,-40]],angle:0},{color:"#00FF00",pos:[500,-100],points:[[-80,0],[0,80],[80,0],[0,-80]],angle:0},{color:"#FF0000",pos:[500,-200],points:[[-40,0],[40,80],[40,-80]],angle:0},{color:"#800080",pos:[500,-300],points:[[-120,-40],[40,120],[40,-40]],angle:0}],f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.puzzleName=null,e.tile=null,e.time=0,e.moves=0,e}var o;return c(e,t),o=e,e.prototype.start=function(){var t=this;this.startTimer(),this.puzzleName.string=s.default.currentShape;var e=o.createShape(p.ALL_TASKS[s.default.currentShape],!1,this.tile);e.name="target",this.puzzleNode.addChild(e);var n=o.createShape(h,!0,this.tile);n.children.forEach(function(t){return t.scale=.4}),n.name="create",this.puzzleNode.addChild(n),this.node.on("tileTouchOver",function(e){e.stopPropagation();var o=n.children.map(function(t){return t.getComponent(i.default).exportDesc()});if(cc.log(JSON.stringify(o)),t.checkIfComplete()){t.scoreboard.active=!0;var c=Math.trunc(100*(360-t.time)/360);t.score.string=c.toString(),t.timeTaken.string=t.label.string,t.updateLeaderboard(c)}})},e.prototype.updateLeaderboard=function(t){var e=cc.sys.localStorage.getItem(s.SCORES)?JSON.parse(cc.sys.localStorage.getItem(s.SCORES)):[],o=e.find(function(t){return t[0]==s.default.currentUser});if(o)o[1]=o[1]+t;else{var n=[s.default.currentUser,t];e.push(n)}e.sort(function(t,e){return e[1]-t[1]}),cc.sys.localStorage.setItem(s.SCORES,JSON.stringify(e))},e.prototype.startTimer=function(){var t=this;this.schedule(function(){t.time++;var e=Math.trunc(t.time/60),o=t.time%60;t.label.string=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+o.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},1)},e.prototype.checkIfComplete=function(){var t=this.puzzleNode.getChildByName("create"),e=this.puzzleNode.getChildByName("target");return t.children.every(function(t){var o=t.getComponent(i.default);return null!=e.children.find(function(t){var e=t.getComponent(i.default);return o.isMatch(e)})})},e.prototype.onYesClick=function(){s.default.popScene()},e.createShape=function(t,e,o){var n=new cc.Node;return t.forEach(function(t){var c=cc.instantiate(o),r=c.getComponent(i.default);r.tileDesc=t,r.isTouchable=e,n.addChild(c)}),n},r([u(cc.Label)],e.prototype,"label",void 0),r([u(cc.Label)],e.prototype,"puzzleName",void 0),r([u(cc.Prefab)],e.prototype,"tile",void 0),r([u(cc.Node)],e.prototype,"scoreboard",void 0),r([u(cc.Label)],e.prototype,"score",void 0),r([u(cc.Label)],e.prototype,"timeTaken",void 0),r([u(cc.Node)],e.prototype,"puzzleNode",void 0),o=r([l],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./Main":"Main","./Tasks":"Tasks","./Tile":"Tile"}],QuizComp:[function(t,e,o){"use strict";cc._RF.push(e,"287f6YO2AZLBYpbJq6wkzm4","QuizComp");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.QUIZ_ANSWERED=void 0;var i=t("./Tile"),s=cc._decorator,p=s.ccclass,a=s.property;o.QUIZ_ANSWERED="quizAnswered";var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tile=null,e.question=null,e.b1=null,e.b2=null,e.b3=null,e.b4=null,e.tilePrefab=null,e}return c(e,t),e.prototype.start=function(){this.buttons=[this.b1,this.b2,this.b3,this.b4];var t=cc.instantiate(this.tilePrefab);t.getComponent(i.default).tileDesc=this.quizDesc.tileDesc,this.tile.addChild(t),this.question.string=this.quizDesc.question;for(var e=0;e<this.buttons.length;e++)this.buttons[e].node.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string=this.quizDesc.choices[e]},e.prototype.onB1Click=function(t,e){this.buttonCheck(e)},e.prototype.buttonCheck=function(t){var e,n=this.buttons[t].node.getChildByName("Background");this.quizDesc.answerIndex==t?(n.color=cc.Color.GREEN,(e=new cc.Event.EventCustom(o.QUIZ_ANSWERED,!0)).setUserData({correct:!0}),this.node.dispatchEvent(e)):(n.color=cc.Color.RED,this.buttons[this.quizDesc.answerIndex].node.getChildByName("Background").color=cc.Color.GREEN,(e=new cc.Event.EventCustom(o.QUIZ_ANSWERED,!0)).setUserData({correct:!1}),this.node.dispatchEvent(e))},r([a(cc.Node)],e.prototype,"tile",void 0),r([a(cc.Label)],e.prototype,"question",void 0),r([a(cc.Button)],e.prototype,"b1",void 0),r([a(cc.Button)],e.prototype,"b2",void 0),r([a(cc.Button)],e.prototype,"b3",void 0),r([a(cc.Button)],e.prototype,"b4",void 0),r([a(cc.Prefab)],e.prototype,"tilePrefab",void 0),r([p],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Tile":"Tile"}],Quiz:[function(t,e,o){"use strict";cc._RF.push(e,"58f59qEFstG+5/26+lMfgxT","Quiz");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Main"),s=t("./QuizComp"),p=cc._decorator,a=p.ccclass,l=p.property,u=[{tileDesc:{color:"#FFA400",pos:[0,0],points:[[-80,-160],[-80,160],[80,0]],angle:90},question:"How many sides does this shape have?",choices:["1","2","3","4"],answerIndex:2},{tileDesc:{color:"#800080",pos:[0,0],points:[[-120,-40],[-40,40],[120,40],[40,-40]],angle:0},question:"How many sides does this shape have?",choices:["1","2","3","4"],answerIndex:3},{tileDesc:{color:"#00FF00",pos:[0,0],points:[[-80,-160],[-80,160],[80,0]],angle:90},question:"How many vertices does this shape have?",choices:["1","2","3","4"],answerIndex:2},{tileDesc:{color:"#FF0000",pos:[0,0],points:[[-80,0],[0,80],[80,0],[0,-80]],angle:0},question:"How many vertices does this shape have?",choices:["1","2","3","4"],answerIndex:3}],h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.quizNode=null,e.quizCompPrefab=null,e.score=null,e.status=null,e.popup=null,e.scoreboard=null,e.quizIndex=0,e.scoreVal=0,e}return c(e,t),e.prototype.start=function(){var t=this;this.showQuiz(),this.setScore(),this.node.on(s.QUIZ_ANSWERED,function(e){e.stopPropagation(),t.popup.active=!0,e.getUserData().correct?(t.scoreVal++,t.status.string="Correct!"):t.status.string="Wrong! Correct answer is: "+u[t.quizIndex].choices[u[t.quizIndex].answerIndex],t.setScore(),t.quizIndex++})},e.prototype.setScore=function(){this.score.string="Score: "+this.scoreVal+"/"+u.length},e.prototype.showQuiz=function(){var t=cc.instantiate(this.quizCompPrefab);t.getComponent(s.default).quizDesc=u[this.quizIndex],this.quizNode.addChild(t)},e.prototype.onB1Click=function(){this.popup.active=!1,this.quizNode.removeAllChildren(),this.quizIndex<u.length?this.showQuiz():this.scoreboard.active=!0},e.prototype.onBackClick=function(){i.default.popScene()},r([l(cc.Node)],e.prototype,"quizNode",void 0),r([l(cc.Prefab)],e.prototype,"quizCompPrefab",void 0),r([l(cc.Label)],e.prototype,"score",void 0),r([l(cc.Label)],e.prototype,"status",void 0),r([l(cc.Node)],e.prototype,"popup",void 0),r([l(cc.Node)],e.prototype,"scoreboard",void 0),r([a],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./Main":"Main","./QuizComp":"QuizComp"}],Score:[function(t,e,o){"use strict";cc._RF.push(e,"f11c08utNdLnJ7fvNz+eyBC","Score");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,p=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameLabel=null,e.scoreLabel=null,e.studentName="hello",e.score="100",e}return c(e,t),e.prototype.start=function(){this.nameLabel.string=this.studentName,this.scoreLabel.string=this.score},r([p(cc.Label)],e.prototype,"nameLabel",void 0),r([p(cc.Label)],e.prototype,"scoreLabel",void 0),r([p],e.prototype,"studentName",void 0),r([p],e.prototype,"score",void 0),r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Student:[function(t,e,o){"use strict";cc._RF.push(e,"b3a84tvSF9LcYU6R8pHXaX7","Student");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Main"),s=cc._decorator,p=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.onTodaysTaskClick=function(){i.default.currentShape=cc.sys.localStorage.getItem(i.TODAYS_TASK)?cc.sys.localStorage.getItem(i.TODAYS_TASK):"Friend",i.default.pushScene("Scene/puzzle")},e.prototype.onAllTasksClick=function(){i.default.pushScene("Scene/tasks")},e.prototype.onLeaderboardClick=function(){i.default.pushScene("Scene/leaderboard")},e.prototype.onQuizClick=function(){i.default.pushScene("Scene/quiz")},r([p],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./Main":"Main"}],TaskButton:[function(t,e,o){"use strict";cc._RF.push(e,"c295cPAKfpCV4yogvv7lty1","TaskButton");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Puzzle"),s=t("./Tasks"),p=cc._decorator,a=p.ccclass,l=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.taskName="Friend",e}return c(e,t),e.prototype.start=function(){this.label.string=this.taskName;var t=i.default.createShape(s.ALL_TASKS[this.taskName],!1,this.taskPrefab);t.scale=.25,this.node.addChild(t)},e.prototype.onButtonClick=function(){cc.log("onButtonClick");var t=new cc.Event.EventCustom("taskButtonClick",!0);t.setUserData(this.taskName),this.node.dispatchEvent(t)},r([l(cc.Label)],e.prototype,"label",void 0),r([l(cc.Prefab)],e.prototype,"taskPrefab",void 0),r([l],e.prototype,"taskName",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Puzzle":"Puzzle","./Tasks":"Tasks"}],Tasks:[function(t,e,o){"use strict";cc._RF.push(e,"07f8aen9lBK9L6j1K5NeZb9","Tasks");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.ALL_TASKS=void 0;var i=t("./TaskButton"),s=t("./Main"),p=cc._decorator,a=p.ccclass,l=p.property;o.ALL_TASKS={Friend:[{color:"#FF00FF",pos:[-75,113],angle:45.2664900760584,points:[[-80,-160],[-80,160],[80,0]]},{color:"#FFA400",pos:[-30,-127],angle:44.787005518288595,points:[[-120,-40],[-40,40],[120,40],[40,-40]]},{color:"#800080",pos:[67,-130],angle:-90.21539665260708,points:[[-120,-40],[40,120],[40,-40]]},{color:"#FF0000",pos:[-66,-275],angle:-223.94559549647818,points:[[-40,0],[40,80],[40,-80]]},{color:"#1600E0D0",pos:[221,-148],angle:-45.66879195296867,points:[[-80,-40],[0,40],[80,-40]]},{color:"#0000FF",pos:[39,114],angle:-134.88425110794387,points:[[0,-80],[-160,80],[160,80]]},{color:"#00FF00",pos:[11,245],angle:-22.451546456003868,points:[[-80,0],[0,80],[80,0],[0,-80]]}],House:[{color:"#FF00FF",pos:[2,-80],angle:89.85383761422051,points:[[-80,-160],[-80,160],[80,0]]},{color:"#800080",pos:[-119,-40],angle:-180.57008844499887,points:[[-120,-40],[40,120],[40,-40]]},{color:"#1600E0D0",pos:[85,-42],angle:-180,points:[[-80,-40],[0,40],[80,-40]]},{color:"#FFA400",pos:[110,55],angle:-225.13418190811583,points:[[-120,-40],[-40,40],[120,40],[40,-40]]},{color:"#0000FF",pos:[-52,80],angle:-180.39926726184672,points:[[0,-80],[-160,80],[160,80]]},{color:"#00FF00",pos:[53,167],angle:-44.70916097764945,points:[[-80,0],[0,80],[80,0],[0,-80]]},{color:"#FF0000",pos:[123,-83],angle:-.8012873301070158,points:[[-40,0],[40,80],[40,-80]]}],Tree:[{color:"#FF00FF",pos:[-54,-104],angle:-45.282242936270855,points:[[-80,-160],[-80,160],[80,0]]},{color:"#1600E0D0",pos:[-83,36],angle:44.5103044068708,points:[[-80,-40],[0,40],[80,-40]]},{color:"#FF0000",pos:[-138,-20],angle:-224.62552311327718,points:[[-40,0],[40,80],[40,-80]]},{color:"#FFA400",pos:[116,5],angle:-226.49954703797764,points:[[-120,-40],[-40,40],[120,40],[40,-40]]},{color:"#800080",pos:[4,120],angle:-225.61342173824212,points:[[-120,-40],[40,120],[40,-40]]},{color:"#0000FF",pos:[60,-104],angle:-45.498211612613645,points:[[0,-80],[-160,80],[160,80]]},{color:"#00FF00",pos:[0,-218],angle:-45.25693002450351,points:[[-80,0],[0,80],[80,0],[0,-80]]}],Key:[{color:"#800080",pos:[-189,38],angle:-180,points:[[-120,-40],[40,120],[40,-40]]},{color:"#0000FF",pos:[253,0],angle:-269.82637695716153,points:[[0,-80],[-160,80],[160,80]]},{color:"#1600E0D0",pos:[-314,-62],angle:44.5103044068708,points:[[-80,-40],[0,40],[80,-40]]},{color:"#FF0000",pos:[-189,-82],angle:0,points:[[-40,0],[40,80],[40,-80]]},{color:"#FFA400",pos:[-28,39],angle:-180,points:[[-120,-40],[-40,40],[120,40],[40,-40]]},{color:"#FF00FF",pos:[92,0],angle:-179.63622216113544,points:[[-80,-160],[-80,160],[80,0]]},{color:"#00FF00",pos:[-286,24],angle:-45.25693002450351,points:[[-80,0],[0,80],[80,0],[0,-80]]}],Rocket:[{color:"#FFA400",pos:[-90,-170],angle:43.413753039880135,points:[[-120,-40],[-40,40],[120,40],[40,-40]]},{color:"#FF0000",pos:[107,-142],angle:44.725859606266766,points:[[-40,0],[40,80],[40,-80]]},{color:"#1600E0D0",pos:[162,-198],angle:-45.45113854678728,points:[[-80,-40],[0,40],[80,-40]]},{color:"#0000FF",pos:[77,113],angle:-225.18909429534375,points:[[0,-80],[-160,80],[160,80]]},{color:"#800080",pos:[20,228],angle:-225.34308439952352,points:[[-120,-40],[40,120],[40,-40]]},{color:"#FF00FF",pos:[-39,1],angle:-135.35586983062188,points:[[-80,-160],[-80,160],[80,0]]},{color:"#00FF00",pos:[25,-114],angle:44.735966018740896,points:[[-80,0],[0,80],[80,0],[0,-80]]}],Swan:[{color:"#FF00FF",pos:[-39,-107],angle:-89.78779437951188,points:[[-80,-160],[-80,160],[80,0]]},{color:"#800080",pos:[-152,-131],angle:-225.34308439952352,points:[[-120,-40],[40,120],[40,-40]]},{color:"#0000FF",pos:[121,-108],angle:-180,points:[[0,-80],[-160,80],[160,80]]},{color:"#1600E0D0",pos:[254,-103],angle:-45.6585431775636,points:[[-80,-40],[0,40],[80,-40]]},{color:"#00FF00",pos:[114,97],angle:44.735966018740896,points:[[-80,0],[0,80],[80,0],[0,-80]]},{color:"#FF0000",pos:[200,67],angle:44.725859606266766,points:[[-40,0],[40,80],[40,-80]]},{color:"#FFA400",pos:[170,-17],angle:-225.2569300245035,points:[[-120,-40],[-40,40],[120,40],[40,-40]]}],Duck:[{color:"#FF00FF",pos:[-18,-117],angle:-89.83148348734942,points:[[-80,-160],[-80,160],[80,0]]},{color:"#FFA400",pos:[101,86],angle:-269.3817242204833,points:[[-120,-40],[-40,40],[120,40],[40,-40]]},{color:"#00FF00",pos:[141,206],angle:.7029804227355783,points:[[-80,0],[0,80],[80,0],[0,-80]]},{color:"#0000FF",pos:[-18,44],angle:-180,points:[[0,-80],[-160,80],[160,80]]},{color:"#800080",pos:[-178,-93],angle:-225.34308439952352,points:[[-120,-40],[40,120],[40,-40]]},{color:"#1600E0D0",pos:[-63,-192],angle:0,points:[[-80,-40],[0,40],[80,-40]]},{color:"#FF0000",pos:[181,127],angle:0,points:[[-40,0],[40,80],[40,-80]]}],Chicken:[{color:"#FF00FF",pos:[-29,10],angle:44.81214565833318,points:[[-80,-160],[-80,160],[80,0]]},{color:"#0000FF",pos:[85,10],angle:-134.72321094782222,points:[[0,-80],[-160,80],[160,80]]},{color:"#00FF00",pos:[-142,125],angle:-45.24381035610408,points:[[-80,0],[0,80],[80,0],[0,-80]]},{color:"#1600E0D0",pos:[-164,223],angle:0,points:[[-80,-40],[0,40],[80,-40]]},{color:"#800080",pos:[218,-51],angle:0,points:[[-120,-40],[40,120],[40,-40]]},{color:"#FF0000",pos:[52,-178],angle:-90.33311124392137,points:[[-40,0],[40,80],[40,-80]]},{color:"#FFA400",pos:[217,108],angle:-180,points:[[-120,-40],[-40,40],[120,40],[40,-40]]}],Boat:[{color:"#800080",pos:[86,-201],angle:-45.17521590490532,points:[[-120,-40],[40,120],[40,-40]]},{color:"#FFA400",pos:[-27,-201],angle:-225.32008482378168,points:[[-120,-40],[-40,40],[120,40],[40,-40]]},{color:"#00FF00",pos:[197,-64],angle:0,points:[[-80,0],[0,80],[80,0],[0,-80]]},{color:"#1600E0D0",pos:[116,-104],angle:0,points:[[-80,-40],[0,40],[80,-40]]},{color:"#0000FF",pos:[116,16],angle:-269.7572227262332,points:[[0,-80],[-160,80],[160,80]]},{color:"#FF00FF",pos:[-21,-58],angle:-45.23578376987661,points:[[-80,-160],[-80,160],[80,0]]},{color:"#FF0000",pos:[65,202],angle:44.644130169378116,points:[[-40,0],[40,80],[40,-80]]}],"Boat 2":[{color:"#FFA400",pos:[-92,-152],angle:-225.32008482378168,points:[[-120,-40],[-40,40],[120,40],[40,-40]]},{color:"#1600E0D0",pos:[-9,-124],angle:-44.52649194126507,points:[[-80,-40],[0,40],[80,-40]]},{color:"#FF0000",pos:[163,-125],angle:-45.43736386752073,points:[[-40,0],[40,80],[40,-80]]},{color:"#FF00FF",pos:[101,66],angle:.6681420683287342,points:[[-80,-160],[-80,160],[80,0]]},{color:"#800080",pos:[238,19],angle:44.86644364629407,points:[[-120,-40],[40,120],[40,-40]]},{color:"#0000FF",pos:[-35,-39],angle:45.4161847831665,points:[[0,-80],[-160,80],[160,80]]},{color:"#00FF00",pos:[77,-151],angle:-45.252402682289144,points:[[-80,0],[0,80],[80,0],[0,-80]]}],Sword:[{color:"#800080",pos:[-54,-29],angle:-134.2868113649824,points:[[-120,-40],[40,120],[40,-40]]},{color:"#FFA400",pos:[-73,-123],angle:-222.3200260598921,points:[[-120,-40],[-40,40],[120,40],[40,-40]]},{color:"#1600E0D0",pos:[14,-203],angle:-43.11181199325907,points:[[-80,-40],[0,40],[80,-40]]},{color:"#0000FF",pos:[173,140],angle:44.49297093908524,points:[[0,-80],[-160,80],[160,80]]},{color:"#00FF00",pos:[-148,-184],angle:1.4975877390175185,points:[[-80,0],[0,80],[80,0],[0,-80]]},{color:"#FF0000",pos:[-160,-41],angle:47.37184218978922,points:[[-40,0],[40,80],[40,-80]]},{color:"#FF00FF",pos:[59,27],angle:-224.87678345981521,points:[[-80,-160],[-80,160],[80,0]]}],Heart:[{color:"#FF0000",pos:[34,-67],angle:0,points:[[-40,0],[40,80],[40,-80]]},{color:"#00FF00",pos:[-4,-143],angle:0,points:[[-80,0],[0,80],[80,0],[0,-80]]},{color:"#FF00FF",pos:[-85,-66],angle:-90.63377702050241,points:[[-80,-160],[-80,160],[80,0]]},{color:"#FFA400",pos:[-120,54],angle:0,points:[[-120,-40],[-40,40],[120,40],[40,-40]]},{color:"#0000FF",pos:[81,94],angle:-180.6547804022677,points:[[0,-80],[-160,80],[160,80]]},{color:"#1600E0D0",pos:[-80,136],angle:0,points:[[-80,-40],[0,40],[80,-40]]},{color:"#800080",pos:[116,-26],angle:-180,points:[[-120,-40],[40,120],[40,-40]]}],Butterfly:[{color:"#00FF00",pos:[89,-37],angle:-45.335059218609125,points:[[-80,0],[0,80],[80,0],[0,-80]]},{color:"#FFA400",pos:[-25,-93],angle:44.38394009160078,points:[[-120,-40],[-40,40],[120,40],[40,-40]]},{color:"#800080",pos:[-79,-36],angle:-45.2480321281565,points:[[-120,-40],[40,120],[40,-40]]},{color:"#1600E0D0",pos:[116,-122],angle:-45.412192741402315,points:[[-80,-40],[0,40],[80,-40]]},{color:"#FF00FF",pos:[-135,76],angle:-134.78214637490282,points:[[-80,-160],[-80,160],[80,0]]},{color:"#FF0000",pos:[174,-9],angle:-45.60309119438053,points:[[-40,0],[40,80],[40,-80]]},{color:"#0000FF",pos:[202,76],angle:44.555855566888084,points:[[0,-80],[-160,80],[160,80]]}]};var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.start=function(){var t=this;for(var e in o.ALL_TASKS){var n=cc.instantiate(this.taskButtonPrefab);n.getComponent(i.default).taskName=e,this.content.addChild(n)}this.node.on("taskButtonClick",function(e){t.selectedTask=e.getUserData(),e.stopPropagation(),s.default.currentUser==s.TEACHER?(t.confirmPopup.active=!0,t.confirmLabel.string="Assign Puzzle: "+t.selectedTask+"?"):(s.default.currentShape=t.selectedTask,s.default.pushScene("Scene/puzzle"))})},e.prototype.onAssignYesClick=function(){cc.sys.localStorage.setItem(s.TODAYS_TASK,this.selectedTask),s.default.popScene()},e.prototype.onAssignNoClick=function(){this.confirmPopup.active=!1},r([l(cc.Prefab)],e.prototype,"taskButtonPrefab",void 0),r([l(cc.Node)],e.prototype,"content",void 0),r([l(cc.Label)],e.prototype,"confirmLabel",void 0),r([l(cc.Node)],e.prototype,"confirmPopup",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Main":"Main","./TaskButton":"TaskButton"}],Teacher:[function(t,e,o){"use strict";cc._RF.push(e,"bfbc8TGW7tH5rCOJE+pqrda","Teacher");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Main"),s=cc._decorator,p=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.onAssignTodaysTaskClick=function(){i.default.pushScene("Scene/tasks")},e.prototype.onLeaderboardClick=function(){i.default.pushScene("Scene/leaderboard")},r([p],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./Main":"Main"}],Tile:[function(t,e,o){"use strict";cc._RF.push(e,"8538fu1jK1NPaBLB5bV3Hqq","Tile");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,p=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graphics=null,e.selectGraphics=null,e.isTouchable=!1,e.isDragging=!1,e.worldPos=null,e}var o;return c(e,t),o=e,e.prototype.start=function(){var t=this;o.highlightedTile=null,this.isTouchable?(this.graphics.fillColor=(new cc.Color).fromHEX(this.tileDesc.color),this.enableTouch()):(this.graphics.fillColor=(new cc.Color).fromHEX("#CCCCCC"),this.graphics.strokeColor=(new cc.Color).fromHEX("#CCCCCC")),this.node.position=cc.v3(this.tileDesc.pos[0],this.tileDesc.pos[1]),this.node.angle=this.tileDesc.angle;var e=new cc.Node("points");this.node.addChild(e),this.graphics.moveTo(this.tileDesc.points[0][0],this.tileDesc.points[0][1]),this.tileDesc.points.map(function(o){t.graphics.lineTo(o[0],o[1]);var n=new cc.Node;n.setPosition(o[0],o[1]),e.addChild(n)}),this.graphics.close(),this.graphics.stroke(),this.graphics.fill(),this.node.zIndex=0},e.prototype.exportDesc=function(){return{color:this.tileDesc.color,pos:[this.node.x,this.node.y],angle:this.node.angle,points:this.node.getChildByName("points").children.map(function(t){return[t.x,t.y]})}},e.prototype.isMatch=function(t){var e=this.node.getChildByName("points"),o=t.node.getChildByName("points");return e.childrenCount==o.childrenCount&&e.children.every(function(t){return null!=o.children.find(function(n){return cc.Vec3.squaredDistance(e.convertToWorldSpaceAR(t.position),o.convertToWorldSpaceAR(n.position))<=50})})},e.prototype.highlightSelection=function(){var t=this;this.selectGraphics.moveTo(this.tileDesc.points[0][0],this.tileDesc.points[0][1]),this.tileDesc.points.map(function(e){t.selectGraphics.lineTo(e[0],e[1])}),this.selectGraphics.close(),this.selectGraphics.stroke(),this.tileDesc.points.map(function(e){t.selectGraphics.circle(e[0],e[1],10);var o=new cc.Node;o.setContentSize(10,10),o.setPosition(e[0],e[1]),t.selectGraphics.node.addChild(o),o.on("touchstart",t.onEdgeTouchStart,t),o.on("touchmove",t.onEdgeTouchMove,t),o.on("touchend",t.onEdgeTouchEnd,t),o.on("touchcancel",t.onEdgeTouchEnd,t)}),this.selectGraphics.fill()},e.prototype.enableTouch=function(){this.node.on("touchstart",this.onTouchStart,this),this.node.on("touchend",this.onTouchEnd,this),this.node.on("touchcancel",this.onTouchEnd,this),this.node.on("touchmove",this.onTouchMove,this)},e.prototype.onTouchStart=function(){this.isDragging||(o.highlightedTile&&(o.highlightedTile.selectGraphics.clear(),o.highlightedTile.selectGraphics.node.destroyAllChildren(),o.highlightedTile.node.zIndex=0),this.node.scale=1,o.highlightedTile=this,this.node.zIndex=1,this.highlightSelection(),this.isDragging=!0)},e.prototype.onTouchMove=function(t){this.isDragging&&this.node.setPosition(this.node.position.add(cc.v3(t.getDelta())))},e.prototype.onTouchEnd=function(){this.isDragging&&(this.isDragging=!1),this.node.dispatchEvent(new cc.Event.EventCustom("tileTouchOver",!0))},e.prototype.onEdgeTouchStart=function(t){this.worldPos=this.node.getParent().convertToWorldSpaceAR(this.node.getPosition()),t.stopPropagation()},e.prototype.onEdgeTouchMove=function(t){var e=Math.atan2(t.getLocationY()-this.worldPos.y,t.getLocationX()-this.worldPos.x);this.node.angle=cc.misc.radiansToDegrees(e)-90,t.stopPropagation()},e.prototype.onEdgeTouchEnd=function(){this.node.dispatchEvent(new cc.Event.EventCustom("tileTouchOver",!0))},e.highlightedTile=null,r([p(cc.Graphics)],e.prototype,"graphics",void 0),r([p(cc.Graphics)],e.prototype,"selectGraphics",void 0),o=r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["Back","Leaderboard","Main","Puzzle","Quiz","QuizComp","Score","Student","TaskButton","Tasks","Teacher","Tile"]);